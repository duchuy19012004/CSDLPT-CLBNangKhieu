@model ClubManagement.Models.FragmentationConfig
@{
    ViewData["Title"] = "Chỉnh sửa ngưỡng phân mảnh";
}

<h2><i class="fas fa-edit me-2"></i>Chỉnh sửa cấu hình phân mảnh</h2>

<div class="card">
    <div class="card-body">
        <form asp-action="Edit" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            
            <div class="form-group mb-3">
                <label asp-for="ConfigKey"></label>
                <input asp-for="ConfigKey" class="form-control" readonly />
                <small class="form-text text-muted">Khóa cấu hình không thể thay đổi</small>
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="ConfigValue"></label>
                <input asp-for="ConfigValue" class="form-control" />
                <span asp-validation-for="ConfigValue" class="text-danger"></span>
                <small class="form-text text-muted">
                    Danh sách khoa phân cách bởi dấu phẩy (VD: K1,K2,K3)
                </small>
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="Description"></label>
                <textarea asp-for="Description" class="form-control" rows="2"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
            
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <strong>Lưu ý:</strong> Thay đổi cấu hình chỉ ảnh hưởng đến dữ liệu mới được thêm vào. 
                Dữ liệu cũ vẫn giữ nguyên vị trí. Để di chuyển dữ liệu cũ, cần chạy script migration.
            </div>
            
            <div class="mt-4">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save me-2"></i>Lưu thay đổi
                </button>
                <a asp-action="Index" class="btn btn-secondary">
                    <i class="fas fa-times me-2"></i>Hủy
                </a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
